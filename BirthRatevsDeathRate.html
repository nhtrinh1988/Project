<html>
<meta charset="utf-8">
<script src="https://d3js.org/d3.v5.min.js"></script>
  
<button onclick="update(data1)">Birth Rate (per 1000 people)</button>
<button onclick="update(data2)">Death Rate (per 1000 people)</button>
<div id="lifeExpectency"></div>
  
<head>
 <title>Life Expectency</title>
</head>
<body>
  <h1>Death Rate VS Birth Rate </h1>
<p>The Graphs above are showing the death and birth rate per 1000 people in Japan from 1988 to 2017. We can detect a steady declining in birth rate over the year and a sharper curve for death rate. This is crucial indicator for unhealthy population growth. As the birth rate continues to decline, Japan will continue to struggle in maintaining their current population growth for the young population will lose their ability of fertility over the year. </p>
<script>
  // create 2 data_set
var data1 = [
   {group: "1988", value: 10.8},
   {group: "1989", value: 10.2},
   {group: "1990", value: 10},
   {group: "1991", value: 9.9},
   {group: "1992", value: 9.8},
   {group: "1993", value: 9.6},
   {group: "1994", value: 10},
   {group: "1995", value: 9.54},
   {group: "1996", value: 9.6},
   {group: "1997", value: 9.5},
   {group: "1998", value: 9.6},
   {group: "1999", value: 9.3},
   {group: "2000", value: 9.4},
   {group: "2001", value: 9.1},
   {group: "2002", value: 9.3},
   {group: "2003", value: 9.2},
   {group: "2004", value: 8.6},
   {group: "2005", value: 8.4},
   {group: "2006", value: 8.6},
   {group: "2007", value: 8.6},
   {group: "2008", value: 8.7},
   {group: "2009", value: 8.5},
   {group: "2010", value: 8.5},
   {group: "2011", value: 8.3},
   {group: "2012", value: 8.2},
   {group: "2013", value: 8.2},
   {group: "2014", value: 8},
   {group: "2015", value: 8},
   {group: "2016", value: 7.8},
   {group: "2017", value: 7.6}
];

var data2 = [
   {group: "1988", value: 6.5},
   {group: "1989", value: 6.4},
   {group: "1990", value: 6.7},
   {group: "1991", value: 6.7},
   {group: "1992", value: 6.9},
   {group: "1993", value: 7.1},
   {group: "1994", value: 7.1},
   {group: "1995", value: 7.41},
   {group: "1996", value: 7.1},
   {group: "1997", value: 7.3},
   {group: "1998", value: 7.5},
   {group: "1999", value: 7.5},
   {group: "2000", value: 7.8},
   {group: "2001", value: 7.7},
   {group: "2002", value: 8.1},
   {group: "2003", value: 8.4},
   {group: "2004", value: 8},
   {group: "2005", value: 8.5},
   {group: "2006", value: 8.53},
   {group: "2007", value: 8.71},
   {group: "2008", value: 9.1},
   {group: "2009", value: 9.1},
   {group: "2010", value: 9.5},
   {group: "2011", value: 9.9},
   {group: "2012", value: 10},
   {group: "2013", value: 10.1},
   {group: "2014", value: 10.1},
   {group: "2015", value: 10.3},
   {group: "2016", value: 10.5},
   {group: "2017", value: 10.8}
];

// set the dimensions and margins of the graph
var margin = {top: 30, right: 30, bottom: 70, left: 60},
    width = 960 - margin.left - margin.right,
    height = 500 - margin.top - margin.bottom;

// append the svg object to the body of the page
var svg = d3.select("#lifeExpectency")
  .append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform",
          "translate(" + margin.left + "," + margin.top + ")");

// X axis
var x = d3.scaleBand()
  .range([ 0, width ])
  .domain(data1.map(function(d) { return d.group; }))
  .padding(0.2);
svg.append("g")
  .attr("transform", "translate(0," + height + ")")
  .call(d3.axisBottom(x))

// Add Y axis
var y = d3.scaleLinear()
  .domain([0, 15])
  .range([ height, 0]);
svg.append("g")
  .attr("class", "myYaxis")
  .call(d3.axisLeft(y));

// A function that create / update the plot for a given variable:
function update(data) {

  var u = svg.selectAll("rect")
    .data(data)

  u
    .enter()
    .append("rect")
    .merge(u)
    .transition()
    .duration(1000)
      .attr("x", function(d) { return x(d.group); })
      .attr("y", function(d) { return y(d.value); })
      .attr("width", x.bandwidth())
      .attr("height", function(d) { return height - y(d.value); })
      .attr("fill", "#69b3a2")
}

// Initialize the plot with the first dataset
update(data1)

</script>
   
   <a href="population.html" class="next">Japan Population&raquo;</a>

   
  </body>
</html>
